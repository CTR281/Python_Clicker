<ClickerCell>:
    canvas:
        Color:
            rgba: 0,0,1,1
        Ellipse:
            pos:self.pos
            size:self.cell_size

<Enemy>:
    canvas:
        Color:
            rgba: 1, 0, 0, 1
        Ellipse:
            pos:self.pos
            size:self.enemy_size

<AutoClicker>:
    Label:
        text:"Autofeed Tier " + str(root.tier)
        color: 1,1,1,1
        font_size: "20"
        pos:root.pos
        center:root.center

<ClickerGame>:
    cell : clicker_cell
    health : health
    feed: feed_button
    auto_tier1: tier1
    auto_tier2: tier2

    canvas.before:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            size: root.size
            pos:root.pos
    canvas.after:
        Color:
            rgba: 0,0,0,1
        Rectangle:
            size: 10, root.height
            pos: root.width * 3 / 4, 0

        Rectangle:
            size: root.width * 3 / 4, 10
            pos: 0, root.height / 4

    ClickerCell:
        id: clicker_cell
        pos: root.width * 3 / 8, root.height * 5 / 8
        center: root.width * 3 / 8, root.height * 5 / 8

    Label:
        id:health
        text:str(int(clicker_cell.cell_weight-1))
        font_size:"40"
        top:root.top-50
        center_x:root.width * 3 / 8
        color: 0, 0, 1, 1

    Label:
        text:str(int(root.timer))
        font_size:"40"
        top: root.height+30
        center_x:20
        color: 1,0,0,1

    Label:
        text:str(root.gameover)
        font_size:"70"
        color:0,0,0,1
        center: root.width * 3 / 8, root.height * 5 / 8


    Label:
        text:"Feed Power:" +str(clicker_cell.feedpower)
        font_size:"30"
        color:0,1,0,1
        center_x:root.width * 5/8
        center_y:root.height * 1 / 4 + 25

    Label:
        text:"Autoclick: +"+str(tier1.feed_per_second*tier1.amount+tier2.feed_per_second*tier2.amount)
        font_size:"30"
        color:0,1,0,1
        center_x:90
        center_y:root.height*1/4 + 25

    Label:
        text:"Decay:"+str(int(clicker_cell.fade_factor))
        font_size:"30"
        color:0.5,0,1,1
        center_x:55
        center_y:root.height*1/4 +55

    Button:
        id: feed_button
        background_color: 0,1,0,1
        text:"Feed!"
        font_size: 20
        size:root.width * 2 / 4, root.height * 1 / 4
        on_press: clicker_cell.grow()

    Button:
        id: upgrade_feedpower
        text: "+1 \n" + str(root.cell.feedpower_upgrade_cost)
        font_size: "15"
        on_press: root.cell.upgrade_feedpower()
        size:root.width * 1/4, root.height * 1/4
        pos: root.width * 2/4, 0

    Label:
        id: upgrade
        text:"Upgrade"
        font_size:"40"
        color:1,0,0,1
        center: root.width*7/8, root.height-20

    Button:
        id: buy_tier1
        background_color: 1,0,1,1
        text:"+"+str(tier1.feed_per_second)+" : " + str(root.auto_tier1.buy_cost)
        font_size: 20
        on_press: root.buy_auto(root.auto_tier1)
        pos: root.width*3/4, root.height*1/2
        size: root.width*1/4,root.height*1/2-upgrade.font_size

    AutoClicker:
        id: tier1
        text:"Autofeed 1"
        buy_cost: 20
        feed_per_second:1
        center: buy_tier1.center_x, buy_tier1.center_y-2*buy_tier1.font_size

    Button:
        id: buy_tier2
        background_color: 1,1,0,1
        text:"+"+str(tier2.feed_per_second)+" : " + str(root.auto_tier2.buy_cost)
        font_size: 20
        on_press: root.buy_auto(root.auto_tier2)
        pos:root.width*3/4,0
        size:root.width*1/4,root.height*1/2

    AutoClicker:
        id: tier2
        text:"Autofeed 2"
        feed_per_second:5
        buy_cost: 200
        center:buy_tier2.center_x, buy_tier2.center_y-2*buy_tier2.font_size